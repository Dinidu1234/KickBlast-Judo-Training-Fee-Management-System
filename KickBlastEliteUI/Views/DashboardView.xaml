<UserControl x:Class="KickBlastEliteUI.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <UniformGrid Rows="1" Columns="4" Margin="0,0,0,12">
            <Border Style="{StaticResource CardStyle}"><StackPanel><TextBlock Text="Total Athletes"/><TextBlock Text="{Binding TotalAthletes}" FontSize="26" FontWeight="Bold"/></StackPanel></Border>
            <Border Style="{StaticResource CardStyle}"><StackPanel><TextBlock Text="Calculations This Month"/><TextBlock Text="{Binding CalculationsThisMonth}" FontSize="26" FontWeight="Bold"/></StackPanel></Border>
            <Border Style="{StaticResource CardStyle}"><StackPanel><TextBlock Text="Total Revenue"/><TextBlock Text="{Binding TotalRevenue}" FontSize="26" FontWeight="Bold"/></StackPanel></Border>
            <Border Style="{StaticResource CardStyle}"><StackPanel><TextBlock Text="Next Competition Date"/><TextBlock Text="{Binding NextCompetitionDate}" FontSize="26" FontWeight="Bold"/></StackPanel></Border>
        </UniformGrid>

        <Border Grid.Row="1" Style="{StaticResource CardStyle}">
            <StackPanel>
                <TextBlock Text="Recent Calculations" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,8"/>
                <DataGrid ItemsSource="{Binding RecentCalculations}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Athlete" Binding="{Binding Athlete.Name}"/>
                        <DataGridTextColumn Header="Month" Binding="{Binding Month}"/>
                        <DataGridTextColumn Header="Year" Binding="{Binding Year}"/>
                        <DataGridTextColumn Header="Total" Binding="{Binding TotalCost, StringFormat='LKR {0:N2}'}"/>
                        <DataGridTextColumn Header="Created" Binding="{Binding CreatedAt, StringFormat='{}{0:dd MMM yyyy HH:mm}'}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
